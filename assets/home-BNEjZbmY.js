import{a as c,p as o,w as N}from"./chunk-PVWAREVJ-BGDX7Rsd.js";const P="/player-turn/assets/cha-ching-BBYh1XBI.mp3",L="/player-turn/assets/success-bQnasmkR.mp3",S=()=>{const[i,d]=c.useState(100);return c.useEffect(()=>{d(0)}),o.jsx("div",{className:"fixed top-0 left-0 z-50 w-full h-1 bg-gray-200",children:o.jsx("div",{style:{width:`${i}%`},className:"h-full bg-blue-500 transition-all duration-4000 ease-in-out"})})},k=4e3,A=3e3,g=["from-red-500 to-red-600","from-amber-500 to-amber-600","from-yellow-500 to-yellow-600","from-green-500 to-green-600","from-cyan-500 to-cyan-600","from-blue-500 to-blue-600","from-indigo-500 to-indigo-600","from-pink-500 to-pink-600"];function C({className:i="",children:d}){const[f,a]=c.useState(new Map),[u,v]=c.useState(0),m=c.useRef(null),l=c.useRef(null),p=c.useRef(null),M=e=>{const n=new Map;e.forEach(r=>{n.set(r.color,r.color)});const t=g.filter(r=>!n.has(r));return t.length>0?t[Math.floor(Math.random()*t.length)]:g[Math.floor(Math.random()*g.length)]},j=()=>{new Audio(P).play(),T(),v(0),a(e=>{const n=new Map(e);if(n.size>1){n.keys;const t=Math.floor(Math.random()*n.size),s=Array.from(n.keys())[t];n.forEach((h,E)=>{E!==s&&n.delete(E)})}return n}),p.current=setTimeout(()=>{a(new Map),y()},k)},R=()=>{l.current&&clearTimeout(l.current),v(e=>e+1),l.current=setTimeout(j,A)},x=e=>{e.changedTouches.length>0&&(a(n=>{let t=new Map(n);for(let r=0;r<e.changedTouches.length;r++){const s=e.changedTouches[r];t.set(s.identifier,{id:s.identifier,x:s.clientX,y:s.clientY,color:M(t)})}return t}),e.touches.length>0&&R(),new Audio(L).play())},b=e=>{e.changedTouches.length>0&&a(n=>{const t=new Map(n);for(let r=0;r<e.changedTouches.length;r++){const s=e.changedTouches[r],h=t.get(s.identifier);h&&(h.x=s.clientX,h.y=s.clientY,t.set(s.identifier,h))}return t})},w=e=>{a(n=>{const t=new Map(n);for(let r=0;r<e.changedTouches.length;r++){const s=e.changedTouches[r];t.delete(s.identifier)}return t.size===0&&l.current&&clearTimeout(l.current),t})},y=()=>{const e=m.current;e&&(e.addEventListener("touchstart",x,{passive:!1}),e.addEventListener("touchmove",b,{passive:!1}),e.addEventListener("touchend",w,{passive:!1}))},T=()=>{const e=m.current;e&&(e.removeEventListener("touchstart",x),e.removeEventListener("touchmove",b),e.removeEventListener("touchend",w))};return c.useEffect(()=>{if(m.current)return y(),()=>{T(),l.current&&clearTimeout(l.current),p.current&&clearTimeout(p.current)}},[]),o.jsxs("div",{ref:m,className:`relative overflow-hidden ${i}`,style:{touchAction:"none"},children:[u>0&&f.size>0?o.jsx(S,{},u):null,Array.from(f.entries()).map(e=>{const[n,t]=e;return o.jsxs("div",{className:"absolute pointer-events-none transition-opacity duration-200",style:{left:t.x-90,top:t.y-90,transform:"translateZ(0)"},children:[o.jsx("div",{className:`absolute w-38 h-38 rounded-full border-4 border-white
          `}),o.jsx("div",{className:`absolute w-38 h-38 rounded-full bg-gradient-to-r ${t.color} opacity-80 blur-sm touch-glow-outer`})]},n)})]})}function O(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function z(){const i=c.useRef(null),[d,f]=c.useState(!1),a=()=>{f(!0)};return c.useEffect(()=>{const u=i.current;if(u)return u.addEventListener("click",a),()=>{u.removeEventListener("click",a)}},[]),o.jsx("div",{ref:i,children:d?o.jsx(C,{className:"min-h-screen w-full"}):o.jsx("main",{className:"flex items-center justify-center pt-16 pb-4 min-h-screen",children:O()?o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Tap the screen to begin"}),o.jsx("p",{className:"text-md text-gray-200",children:"After a few moments, one finger will be chosen at random."})]}):o.jsx("div",{className:"text-center",children:o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Please open this on a mobile device."})})})})}function I({}){return[{title:"Robert Rice"},{name:"description",content:""}]}const _=N(function(){return o.jsx(z,{})});export{_ as default,I as meta};

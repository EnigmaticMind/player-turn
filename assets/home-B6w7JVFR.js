import{a as i,p as a,w as H}from"./chunk-PVWAREVJ-BGDX7Rsd.js";const L=["from-blue-500 to-blue-600","from-cyan-500 to-cyan-600","from-green-500 to-green-600","from-yellow-500 to-yellow-600","from-red-500 to-red-600","from-indigo-500 to-indigo-600","from-emerald-500 to-emerald-600","from-rose-500 to-rose-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600"];function O({className:v="",children:M}){const[P,g]=i.useState([]),[X,N]=i.useState({x:0,y:0}),[Y,T]=i.useState(!1),[V,R]=i.useState(!1),[w,C]=i.useState(!1),[f,y]=i.useState(null),[I,E]=i.useState(new Set),S=i.useRef(null),d=i.useRef(null),h=i.useRef(null),U=e=>{const u=L.filter(m=>!e.has(m));return u.length>0?u[Math.floor(Math.random()*u.length)]:L[Math.floor(Math.random()*L.length)]},B=()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{g(e=>{if(e.length>1){const u=Math.floor(Math.random()*e.length),m=e.map((b,p)=>({...b,isVisible:p===u})),x=m[u];return y(x),C(!0),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{C(!1),y(null)},2e4),m}return e})},3e3)};return i.useEffect(()=>{const e=S.current;if(!e)return;const u=t=>{t.preventDefault();const s=e.getBoundingClientRect(),c=[],r=new Set(I);for(let o=0;o<t.touches.length;o++){const n=t.touches[o],l=U(r);r.add(l),c.push({id:n.identifier,x:n.clientX-s.left,y:n.clientY-s.top,color:l,isVisible:!0})}g(c),E(r),R(c.length>0),w&&(C(!1),y(null),E(new Set),h.current&&clearTimeout(h.current)),c.length>1&&B()},m=t=>{t.preventDefault();const s=e.getBoundingClientRect();g(c=>{const r=[...c];for(let o=0;o<t.touches.length;o++){const n=t.touches[o],l=r.findIndex(D=>D.id===n.identifier);l!==-1&&(r[l]={...r[l],x:n.clientX-s.left,y:n.clientY-s.top})}return r})},x=t=>{t.preventDefault(),g(s=>{const c=Array.from(t.touches).map(o=>o.identifier),r=s.filter(o=>c.includes(o.id));return R(r.length>0),E(o=>{const n=new Set(o);return s.forEach(l=>{!c.includes(l.id)&&!(f&&f.id===l.id)&&n.delete(l.color)}),n}),f&&w?s.filter(n=>c.includes(n.id)||f&&f.id===n.id):r}),t.touches.length<=1&&d.current&&(clearTimeout(d.current),d.current=null)},b=t=>{const s=e.getBoundingClientRect();N({x:t.clientX-s.left,y:t.clientY-s.top}),T(!0)},p=()=>{T(!0)},j=()=>{T(!1)};return e.addEventListener("touchstart",u,{passive:!1}),e.addEventListener("touchmove",m,{passive:!1}),e.addEventListener("touchend",x,{passive:!1}),e.addEventListener("mousemove",b),e.addEventListener("mouseenter",p),e.addEventListener("mouseleave",j),()=>{e.removeEventListener("touchstart",u),e.removeEventListener("touchmove",m),e.removeEventListener("touchend",x),e.removeEventListener("mousemove",b),e.removeEventListener("mouseenter",p),e.removeEventListener("mouseleave",j),d.current&&clearTimeout(d.current),h.current&&clearTimeout(h.current)}},[]),a.jsxs("div",{ref:S,className:`relative overflow-hidden ${v}`,style:{touchAction:"none"},children:[P.map(e=>a.jsxs("div",{className:`absolute pointer-events-none transition-opacity duration-200 ${e.isVisible||f&&f.id===e.id&&w?"opacity-100":"opacity-0"}`,style:{left:e.x-50,top:e.y-50,transform:"translateZ(0)"},children:[a.jsx("div",{className:`absolute w-38 h-38 rounded-full border-4 border-white
          `}),a.jsx("div",{className:`absolute w-38 h-38 rounded-full bg-gradient-to-r ${e.color} opacity-80 blur-sm touch-glow-outer`})]},e.id)),M&&M(V)]})}function W(){return a.jsx(O,{className:"min-h-screen w-full",children:v=>a.jsx("main",{className:"flex items-center justify-center pt-16 pb-4 min-h-screen",children:a.jsx("div",{className:"text-center",children:!v&&a.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Have each player touch the screen."})})})})}function A({}){return[{title:"Robert Rice"},{name:"description",content:""}]}const q=H(function(){return a.jsx(W,{})});export{q as default,A as meta};

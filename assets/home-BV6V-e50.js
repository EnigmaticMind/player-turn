import{a as c,p as s,w as P}from"./chunk-PVWAREVJ-BGDX7Rsd.js";const R="/player-turn/assets/cha-ching-BBYh1XBI.mp3",L="/player-turn/assets/success-bQnasmkR.mp3",A=()=>{const[i,h]=c.useState(100);return c.useEffect(()=>{h(0)}),s.jsx("div",{className:"fixed top-0 left-0 z-50 w-full h-1 bg-gray-200",children:s.jsx("div",{style:{width:`${i}%`},className:"h-full bg-blue-500 transition-all duration-4000 ease-in-out"})})},C=4e3,O=3e3,g=["from-red-500 to-red-600","from-amber-500 to-amber-600","from-yellow-500 to-yellow-600","from-green-500 to-green-600","from-cyan-500 to-cyan-600","from-blue-500 to-blue-600","from-indigo-500 to-indigo-600","from-pink-500 to-pink-600"];function S({className:i="",children:h}){const[f,a]=c.useState(new Map),[v,x]=c.useState(0),d=c.useRef(null),l=c.useRef(null),p=c.useRef(null),M=e=>{const n=new Map;e.forEach(o=>{n.set(o.color,o.color)});const t=g.filter(o=>!n.has(o));return t.length>0?t[Math.floor(Math.random()*t.length)]:g[Math.floor(Math.random()*g.length)]},j=()=>{new Audio(R).play(),T(),x(0),a(e=>{const n=new Map(e);if(n.size>1){n.keys;const t=Math.floor(Math.random()*n.size),r=Array.from(n.keys())[t];n.forEach((u,E)=>{E!==r&&n.delete(E)})}return n}),p.current=setTimeout(()=>{a(new Map),y()},C)},N=()=>{l.current&&clearTimeout(l.current),x(e=>e+1),l.current=setTimeout(j,O)},b=e=>{e.changedTouches.length>0&&(a(n=>{let t=new Map(n);for(let o=0;o<e.changedTouches.length;o++){const r=e.changedTouches[o];t.set(r.identifier,{id:r.identifier,x:r.clientX,y:r.clientY,color:M(t)})}return t}),e.touches.length>0&&N(),setTimeout(()=>{new Audio(L).play()},5))},w=e=>{e.changedTouches.length>0&&a(n=>{const t=new Map(n);for(let o=0;o<e.changedTouches.length;o++){const r=e.changedTouches[o],u=t.get(r.identifier);u&&(u.x=r.clientX,u.y=r.clientY,t.set(r.identifier,u))}return t})},m=e=>{a(n=>{const t=new Map(n);for(let o=0;o<e.changedTouches.length;o++){const r=e.changedTouches[o];t.delete(r.identifier)}return t})},y=()=>{const e=d.current;e&&(e.addEventListener("touchstart",b,{passive:!1}),e.addEventListener("touchmove",w,{passive:!1}),e.addEventListener("touchend",m,{passive:!1}),e.addEventListener("touchcancel",m,{passive:!1}))},T=()=>{const e=d.current;e&&(e.removeEventListener("touchstart",b),e.removeEventListener("touchmove",w),e.removeEventListener("touchend",m),e.removeEventListener("touchcancel",m))};return c.useEffect(()=>{if(d.current)return y(),()=>{T(),l.current&&clearTimeout(l.current),p.current&&clearTimeout(p.current)}},[]),s.jsxs("div",{ref:d,className:`relative overflow-hidden ${i}`,style:{touchAction:"none"},children:[v>0&&f.size>0?s.jsx(A,{},v):null,Array.from(f.entries()).map(e=>{const[n,t]=e;return s.jsxs("div",{className:"absolute pointer-events-none transition-opacity duration-200",style:{left:t.x-90,top:t.y-90,transform:"translateZ(0)"},children:[s.jsx("div",{className:`absolute w-38 h-38 rounded-full border-4 border-white
          `}),s.jsx("div",{className:`absolute w-38 h-38 rounded-full bg-gradient-to-r ${t.color} opacity-80 blur-sm touch-glow-outer`})]},n)}),f.size==0?h&&h():null]})}function k(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function z(){return s.jsx(S,{className:"min-h-screen w-full",children:()=>s.jsx("main",{className:"flex items-center justify-center pt-16 pb-4 min-h-screen",children:k()?s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Touch the screen to begin"}),s.jsx("p",{className:"text-md text-gray-200",children:"After a few moments, one finger will be chosen at random."})]}):s.jsx("div",{className:"text-center",children:s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Please open this on a mobile device."})})})})}function I({}){return[{title:"Robert Rice"},{name:"description",content:""}]}const _=P(function(){return s.jsx(z,{})});export{_ as default,I as meta};

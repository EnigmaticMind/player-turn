import{a as i,p as r,w as P}from"./chunk-PVWAREVJ-BGDX7Rsd.js";const R="/player-turn/assets/cha-ching-BBYh1XBI.mp3",A="/player-turn/assets/success-bQnasmkR.mp3",C=()=>{const[l,h]=i.useState(100);return i.useEffect(()=>{setTimeout(()=>h(0),1)}),r.jsx("div",{className:"fixed top-0 left-0 z-50 w-full h-1 bg-gray-200",children:r.jsx("div",{style:{width:`${l}%`},className:"h-full bg-blue-500 transition-all duration-4000 ease-in-out"})})},L=4e3,O=3e3,p=["from-red-500 to-red-600","from-amber-500 to-amber-600","from-yellow-500 to-yellow-600","from-green-500 to-green-600","from-cyan-500 to-cyan-600","from-blue-500 to-blue-600","from-indigo-500 to-indigo-600","from-pink-500 to-pink-600"];function S({className:l="",children:h}){const[f,u]=i.useState(new Map),[g,x]=i.useState(0),d=i.useRef(null),a=i.useRef(null),m=i.useRef(null),E=e=>{const n=new Map;e.forEach(o=>{n.set(o.color,o.color)});const t=p.filter(o=>!n.has(o));return t.length>0?t[Math.floor(Math.random()*t.length)]:p[Math.floor(Math.random()*p.length)]},j=()=>{new Audio(R).play(),T(),x(0),u(e=>{const n=new Map(e);if(n.size>1){n.keys;const t=Math.floor(Math.random()*n.size),s=Array.from(n.keys())[t];n.forEach((c,M)=>{M!==s&&n.delete(M)})}return n}),m.current=setTimeout(()=>{u(new Map),y()},L)},N=()=>{a.current&&clearTimeout(a.current),x(e=>e+1),a.current=setTimeout(j,O)},v=e=>{e.changedTouches.length>0&&(u(n=>{let t=new Map(n);for(let o=0;o<e.changedTouches.length;o++){const s=e.changedTouches[o];t.set(s.identifier,{id:s.identifier,x:s.clientX,y:s.clientY,color:E(t)})}return t}),e.touches.length>0&&N(),new Audio(A).play())},b=e=>{e.changedTouches.length>0&&u(n=>{const t=new Map(n);for(let o=0;o<e.changedTouches.length;o++){const s=e.changedTouches[o],c=t.get(s.identifier);c&&(c.x=s.clientX,c.y=s.clientY,t.set(s.identifier,c))}return t})},w=e=>{u(n=>{const t=new Map;for(let o=0;o<e.changedTouches.length;o++){const s=e.changedTouches[o];let c=t.get(s.identifier);c&&t.set(s.identifier,c)}return t.size===0&&a.current&&clearTimeout(a.current),t})},y=()=>{const e=d.current;e&&(e.addEventListener("touchstart",v,{passive:!1}),e.addEventListener("touchmove",b,{passive:!1}),e.addEventListener("touchend",w,{passive:!1}))},T=()=>{const e=d.current;e&&(e.removeEventListener("touchstart",v),e.removeEventListener("touchmove",b),e.removeEventListener("touchend",w))};return i.useEffect(()=>{if(d.current)return y(),()=>{T(),a.current&&clearTimeout(a.current),m.current&&clearTimeout(m.current)}},[]),r.jsxs("div",{ref:d,className:`relative overflow-hidden ${l}`,style:{touchAction:"none"},children:[g>0&&f.size>0?r.jsx(C,{},g):null,Array.from(f.entries()).map(e=>{const[n,t]=e;return r.jsxs("div",{className:"absolute pointer-events-none transition-opacity duration-200",style:{left:t.x-90,top:t.y-90,transform:"translateZ(0)"},children:[r.jsx("div",{className:`absolute w-38 h-38 rounded-full border-4 border-white
          `}),r.jsx("div",{className:`absolute w-38 h-38 rounded-full bg-gradient-to-r ${t.color} opacity-80 blur-sm touch-glow-outer`})]},n)}),f.size==0?h&&h():null]})}function k(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function z(){return r.jsx(S,{className:"min-h-screen w-full",children:()=>r.jsx("main",{className:"flex items-center justify-center pt-16 pb-4 min-h-screen",children:k()?r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Touch the screen to begin"}),r.jsx("p",{className:"text-md text-gray-200",children:"After a few moments, one finger will be chosen at random."})]}):r.jsx("div",{className:"text-center",children:r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Please open this on a mobile device."})})})})}function I({}){return[{title:"Robert Rice"},{name:"description",content:""}]}const _=P(function(){return r.jsx(z,{})});export{_ as default,I as meta};

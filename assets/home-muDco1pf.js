import{a as u,p as a,w as j}from"./chunk-PVWAREVJ-BGDX7Rsd.js";const R=4e3,N=3e3,g=["from-blue-500 to-blue-600","from-cyan-500 to-cyan-600","from-green-500 to-green-600","from-yellow-500 to-yellow-600","from-red-500 to-red-600","from-indigo-500 to-indigo-600","from-emerald-500 to-emerald-600","from-rose-500 to-rose-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600"];function L({className:v="",children:T}){const[m,f]=u.useState(new Map),[b,x]=u.useState(!1),[M,y]=u.useState(!1),w=u.useRef(null),h=u.useRef(null),C=()=>{const e=new Map;m.forEach(o=>{e.set(o.color,o.color)});const t=g.filter(o=>!e.has(o));return t.length>0?t[Math.floor(Math.random()*t.length)]:g[Math.floor(Math.random()*g.length)]},E=()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{f(e=>{const t=new Map(e);if(t.size>1){t.keys;const o=Math.floor(Math.random()*t.size),n=Array.from(t.keys())[o];t.forEach((l,c)=>{t.set(c,{...l,chosen:c===n})})}return t}),x(!0),setTimeout(()=>{x(!1),y(!0)},R)},N)};return u.useEffect(()=>{const e=w.current;if(!e)return;const t=n=>{const l=e.getBoundingClientRect();b||n.changedTouches.length>0&&(f(c=>{let i=new Map(c);M&&(i=new Map,y(!1));for(let s=0;s<n.changedTouches.length;s++){const r=n.changedTouches[s];i.set(r.identifier,{id:r.identifier,x:r.clientX-l.left,y:r.clientY-l.top,color:C()})}return i}),E())},o=n=>{const l=e.getBoundingClientRect();n.changedTouches.length>0&&f(c=>{const i=new Map(c);for(let s=0;s<n.changedTouches.length;s++){const r=n.changedTouches[s],d=i.get(r.identifier);d&&(d.x=r.clientX-l.left,d.y=r.clientY-l.top,i.set(r.identifier,d))}return i})},p=n=>{f(l=>{var i;const c=new Map(l);for(let s=0;s<n.changedTouches.length;s++){const r=n.changedTouches[s];((i=c.get(r.identifier))==null?void 0:i.chosen)!==!0&&c.delete(r.identifier)}return c})};return e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("touchmove",o,{passive:!1}),e.addEventListener("touchend",p,{passive:!1}),()=>{e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",o),e.removeEventListener("touchend",p),h.current&&clearTimeout(h.current)}},[]),a.jsxs("div",{ref:w,className:`relative overflow-hidden ${v}`,style:{touchAction:"none"},children:[Array.from(m.entries()).map(e=>{const[t,o]=e;if(o.chosen!==!1)return a.jsxs("div",{className:"absolute pointer-events-none transition-opacity duration-200",style:{left:o.x-100,top:o.y-100,transform:"translateZ(0)"},children:[a.jsx("div",{className:`absolute w-38 h-38 rounded-full border-4 border-white
          `}),a.jsxs("div",{style:{color:"white"},children:[o.chosen?"true":"false","tst"]}),a.jsx("div",{className:`absolute w-38 h-38 rounded-full bg-gradient-to-r ${o.color} opacity-80 blur-sm touch-glow-outer`})]},t)}),m.size==0?T&&T():null]})}function O(){return a.jsx(L,{className:"min-h-screen w-full",children:()=>a.jsx("main",{className:"flex items-center justify-center pt-16 pb-4 min-h-screen",children:a.jsx("div",{className:"text-center",children:a.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Have each player touch the screen."})})})})}function k({}){return[{title:"Robert Rice"},{name:"description",content:""}]}const P=j(function(){return a.jsx(O,{})});export{P as default,k as meta};

import{a as h,p as l,w as j}from"./chunk-PVWAREVJ-BGDX7Rsd.js";const R=4e3,N=3e3,p=["from-blue-500 to-blue-600","from-cyan-500 to-cyan-600","from-green-500 to-green-600","from-yellow-500 to-yellow-600","from-red-500 to-red-600","from-indigo-500 to-indigo-600","from-emerald-500 to-emerald-600","from-rose-500 to-rose-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600"];function L({className:v="",children:g}){const[T,d]=h.useState(new Map),[E,x]=h.useState(!1),[b,y]=h.useState(!1),w=h.useRef(null),f=h.useRef(null),M=e=>{const t=new Map;e.forEach(a=>{t.set(a.color,a.color)});const o=p.filter(a=>!t.has(a));return console.log(t),o.length>0?o[Math.floor(Math.random()*o.length)]:p[Math.floor(Math.random()*p.length)]},C=()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{d(e=>{const t=new Map(e);if(t.size>1){t.keys;const o=Math.floor(Math.random()*t.size),n=Array.from(t.keys())[o];t.forEach((u,i)=>{t.set(i,{...u,chosen:i===n})})}return t}),x(!0),setTimeout(()=>{x(!1),y(!0)},R)},N)};return h.useEffect(()=>{const e=w.current;if(!e)return;const t=n=>{const u=e.getBoundingClientRect();E||n.changedTouches.length>0&&(d(i=>{let s=new Map(i);b&&(s=new Map,y(!1));for(let c=0;c<n.changedTouches.length;c++){const r=n.changedTouches[c];s.set(r.identifier,{id:r.identifier,x:r.clientX-u.left,y:r.clientY-u.top,color:M(s)})}return s}),C())},o=n=>{const u=e.getBoundingClientRect();n.changedTouches.length>0&&d(i=>{const s=new Map(i);for(let c=0;c<n.changedTouches.length;c++){const r=n.changedTouches[c],m=s.get(r.identifier);m&&(m.x=r.clientX-u.left,m.y=r.clientY-u.top,s.set(r.identifier,m))}return s})},a=n=>{console.log("-- Touch END"),d(u=>{var s;const i=new Map(u);for(let c=0;c<n.changedTouches.length;c++){const r=n.changedTouches[c];((s=i.get(r.identifier))==null?void 0:s.chosen)!==!0&&i.delete(r.identifier)}return i})};return e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("touchmove",o,{passive:!1}),e.addEventListener("touchend",a,{passive:!1}),e.addEventListener("touchcancel",a,{passive:!1}),()=>{e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",o),e.removeEventListener("touchend",a),e.removeEventListener("touchcancel",a),f.current&&clearTimeout(f.current)}},[]),l.jsxs("div",{ref:w,className:`relative overflow-hidden ${v}`,style:{touchAction:"none"},children:[Array.from(T.entries()).map(e=>{const[t,o]=e;if(o.chosen!==!1)return l.jsxs("div",{className:"absolute pointer-events-none transition-opacity duration-200",style:{left:o.x-100,top:o.y-100,transform:"translateZ(0)"},children:[l.jsx("div",{className:`absolute w-38 h-38 rounded-full border-4 border-white
          `}),l.jsxs("div",{style:{color:"white"},children:[o.chosen?"true":"false","tst"]}),l.jsx("div",{className:`absolute w-38 h-38 rounded-full bg-gradient-to-r ${o.color} opacity-80 blur-sm touch-glow-outer`})]},t)}),T.size==0?g&&g():null]})}function O(){return l.jsx(L,{className:"min-h-screen w-full",children:()=>l.jsx("main",{className:"flex items-center justify-center pt-16 pb-4 min-h-screen",children:l.jsx("div",{className:"text-center",children:l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Have each player touch the screen."})})})})}function k({}){return[{title:"Robert Rice"},{name:"description",content:""}]}const P=j(function(){return l.jsx(O,{})});export{P as default,k as meta};

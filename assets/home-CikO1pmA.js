import{a as c,p as u,w as B}from"./chunk-PVWAREVJ-BGDX7Rsd.js";const V=["from-blue-500 to-blue-600","from-cyan-500 to-cyan-600","from-green-500 to-green-600","from-yellow-500 to-yellow-600","from-red-500 to-red-600","from-indigo-500 to-indigo-600","from-emerald-500 to-emerald-600","from-rose-500 to-rose-600","from-violet-500 to-violet-600","from-amber-500 to-amber-600"];function D({className:d="",children:b}){const[M,f]=c.useState([]),[H,j]=c.useState({x:0,y:0}),[X,v]=c.useState(!1),[N,R]=c.useState(!1),[w,p]=c.useState(!1),C=c.useRef(null),a=c.useRef(null),m=c.useRef(null),x=c.useRef(null),S=()=>V[Math.floor(Math.random()*V.length)],E=()=>(x.current||(x.current=new(window.AudioContext||window.webkitAudioContext)),x.current),P=()=>{try{const e=E(),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.setValueAtTime(800,e.currentTime),t.frequency.exponentialRampToValueAtTime(400,e.currentTime+.1),n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),t.start(e.currentTime),t.stop(e.currentTime+.1)}catch(e){console.log("Audio not available:",e)}},I=()=>{try{const e=E(),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.setValueAtTime(600,e.currentTime),t.frequency.exponentialRampToValueAtTime(800,e.currentTime+.3),n.gain.setValueAtTime(.4,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.start(e.currentTime),t.stop(e.currentTime+.3)}catch(e){console.log("Audio not available:",e)}},O=()=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{f(e=>{if(e.length>1){const t=Math.floor(Math.random()*e.length),n=e.map((h,T)=>({...h,isVisible:T===t}));return I(),p(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{p(!1)},2e4),n}return e})},5e3)};return c.useEffect(()=>{const e=C.current;if(!e)return;const t=o=>{o.preventDefault();const i=e.getBoundingClientRect(),l=[];for(let r=0;r<o.touches.length;r++){const s=o.touches[r];l.push({id:s.identifier,x:s.clientX-i.left,y:s.clientY-i.top,color:S(),isVisible:!0})}f(l),R(l.length>0),P(),w&&(p(!1),m.current&&clearTimeout(m.current)),l.length>1&&O()},n=o=>{o.preventDefault();const i=e.getBoundingClientRect();f(l=>{const r=[...l];for(let s=0;s<o.touches.length;s++){const g=o.touches[s],y=r.findIndex(q=>q.id===g.identifier);y!==-1&&(r[y]={...r[y],x:g.clientX-i.left,y:g.clientY-i.top})}return r})},h=o=>{o.preventDefault(),f(i=>{const l=Array.from(o.touches).map(s=>s.identifier),r=i.filter(s=>l.includes(s.id));return R(r.length>0),r}),o.touches.length<=1&&a.current&&(clearTimeout(a.current),a.current=null)},T=o=>{const i=e.getBoundingClientRect();j({x:o.clientX-i.left,y:o.clientY-i.top}),v(!0)},L=()=>{v(!0)},A=()=>{v(!1)};return e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("touchmove",n,{passive:!1}),e.addEventListener("touchend",h,{passive:!1}),e.addEventListener("mousemove",T),e.addEventListener("mouseenter",L),e.addEventListener("mouseleave",A),()=>{e.removeEventListener("touchstart",t),e.removeEventListener("touchmove",n),e.removeEventListener("touchend",h),e.removeEventListener("mousemove",T),e.removeEventListener("mouseenter",L),e.removeEventListener("mouseleave",A),a.current&&clearTimeout(a.current),m.current&&clearTimeout(m.current)}},[]),u.jsxs("div",{ref:C,className:`relative overflow-hidden ${d}`,style:{touchAction:"none"},children:[M.map(e=>u.jsxs("div",{className:`absolute pointer-events-none transition-opacity duration-200 ${e.isVisible||w?"opacity-100":"opacity-0"}`,style:{left:e.x-50,top:e.y-50,transform:"translateZ(0)"},children:[u.jsx("div",{className:`absolute w-30 h-30 rounded-full border-4 border-white
          `}),u.jsx("div",{className:`absolute w-30 h-30 rounded-full bg-gradient-to-r ${e.color} opacity-80 blur-sm touch-glow-outer`})]},e.id)),b&&b(N)]})}function G(){return u.jsx(D,{className:"min-h-screen w-full",children:d=>u.jsx("main",{className:"flex items-center justify-center pt-16 pb-4 min-h-screen",children:u.jsx("div",{className:"text-center",children:!d&&u.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Have each player touch the screen."})})})})}function $({}){return[{title:"Robert Rice"},{name:"description",content:""}]}const k=B(function(){return u.jsx(G,{})});export{k as default,$ as meta};

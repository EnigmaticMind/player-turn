import{a,p as o,w as C}from"./chunk-PVWAREVJ-BGDX7Rsd.js";const M="/player-turn/assets/cha-ching-BBYh1XBI.mp3",P="/player-turn/assets/success-bQnasmkR.mp3",k=()=>{const[m,w]=a.useState(100);return a.useEffect(()=>{w(0)}),o.jsx("div",{className:"fixed top-0 left-0 z-50 w-full h-1 bg-gray-200",children:o.jsx("div",{style:{width:`${m}%`},className:"h-full bg-blue-500 transition-all duration-4000 ease-in-out"})})},N=4e3,L=2e3,T=["from-red-500 to-red-600","from-amber-500 to-amber-600","from-yellow-500 to-yellow-600","from-green-500 to-green-600","from-cyan-500 to-cyan-600","from-blue-500 to-blue-600","from-indigo-500 to-indigo-600","from-pink-500 to-pink-600"];function R({className:m="",children:w}){const[p,c]=a.useState(new Map),[v,g]=a.useState(0),u=a.useRef(null),d=a.useRef(null),i=a.useRef(null),h=t=>{const n=new Map;t.forEach(r=>{n.set(r.color,r.color)});const e=T.filter(r=>!n.has(r));return e.length>0?e[Math.floor(Math.random()*e.length)]:T[Math.floor(Math.random()*T.length)]},b=()=>{new Audio(M).play(),j(),g(0),c(t=>{const n=new Map(t);if(n.size>1){n.keys;const e=Math.floor(Math.random()*n.size),l=Array.from(n.keys())[e];n.forEach((f,s)=>{s!==l&&n.delete(s)})}return n}),i.current=setTimeout(()=>{c(new Map),I()},N)},y=()=>{d.current&&clearTimeout(d.current),g(t=>t+1),d.current=setTimeout(b,L)},A=t=>{if(t.changedTouches.length>0){const n=u.current;if(!n)return;const e=n.getBoundingClientRect();c(r=>{let l=new Map(r);for(let f=0;f<t.changedTouches.length;f++){const s=t.changedTouches[f];l.set(s.identifier,{id:s.identifier,x:s.clientX-e.left,y:s.clientY-e.top,color:h(l)})}return l}),t.touches.length>0&&y(),new Audio(P).play()}},S=t=>{if(t.changedTouches.length>0){const n=u.current;if(!n)return;const e=n.getBoundingClientRect();c(r=>{const l=new Map(r);for(let f=0;f<t.changedTouches.length;f++){const s=t.changedTouches[f],x=l.get(s.identifier);x&&(x.x=s.clientX-e.left,x.y=s.clientY-e.top,l.set(s.identifier,x))}return l})}},E=t=>{c(n=>{const e=new Map(n);for(let r=0;r<t.changedTouches.length;r++){const l=t.changedTouches[r];e.delete(l.identifier)}return e.size===0&&d.current&&clearTimeout(d.current),e})},I=()=>{const t=u.current;t&&(t.addEventListener("touchstart",A,{passive:!1}),t.addEventListener("touchmove",S,{passive:!1}),t.addEventListener("touchend",E,{passive:!1}))},j=()=>{const t=u.current;t&&(t.removeEventListener("touchstart",A),t.removeEventListener("touchmove",S),t.removeEventListener("touchend",E))};return a.useEffect(()=>{if(u.current)return I(),()=>{j(),d.current&&clearTimeout(d.current),i.current&&clearTimeout(i.current)}},[]),o.jsxs("div",{ref:u,className:`relative overflow-hidden ${m}`,style:{touchAction:"none"},children:[v>0&&p.size>0?o.jsx(k,{},v):null,Array.from(p.entries()).map(t=>{const[n,e]=t;return o.jsxs("div",{className:"absolute pointer-events-none",style:{left:e.x,top:e.y,transform:"translate(-50%, -50%) translateZ(0)"},children:[o.jsx("div",{className:"absolute w-40 h-40 rounded-full border-2 ripple-ping",style:{animationDuration:"2s",left:"50%",top:"50%",borderColor:e.color.includes("red")?"rgba(239, 68, 68, 0.3)":e.color.includes("amber")?"rgba(245, 158, 11, 0.3)":e.color.includes("yellow")?"rgba(234, 179, 8, 0.3)":e.color.includes("green")?"rgba(34, 197, 94, 0.3)":e.color.includes("cyan")?"rgba(6, 182, 212, 0.3)":e.color.includes("blue")?"rgba(59, 130, 246, 0.3)":e.color.includes("indigo")?"rgba(99, 102, 241, 0.3)":"rgba(236, 72, 153, 0.3)"}}),o.jsx("div",{className:"absolute w-32 h-32 rounded-full border-2 ripple-ping",style:{animationDuration:"1.5s",animationDelay:"0.3s",left:"50%",top:"50%",borderColor:e.color.includes("red")?"rgba(239, 68, 68, 0.5)":e.color.includes("amber")?"rgba(245, 158, 11, 0.5)":e.color.includes("yellow")?"rgba(234, 179, 8, 0.5)":e.color.includes("green")?"rgba(34, 197, 94, 0.5)":e.color.includes("cyan")?"rgba(6, 182, 212, 0.5)":e.color.includes("blue")?"rgba(59, 130, 246, 0.5)":e.color.includes("indigo")?"rgba(99, 102, 241, 0.5)":"rgba(236, 72, 153, 0.5)"}}),o.jsx("div",{className:`absolute w-24 h-24 rounded-full bg-gradient-to-r ${e.color} opacity-80 blur-md shadow-2xl`,style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}),o.jsx("div",{className:`absolute w-10 h-10 rounded-full bg-gradient-to-r ${e.color} opacity-100`,style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})]},n)})]})}function H(){const[m,w]=a.useState(!1),[p,c]=a.useState(null),[v,g]=a.useState(!1);a.useEffect(()=>{(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://"))&&g(!0);const h=y=>{y.preventDefault(),c(y)},b=()=>{g(!0),c(null)};return window.addEventListener("beforeinstallprompt",h),window.addEventListener("appinstalled",b),()=>{window.removeEventListener("beforeinstallprompt",h),window.removeEventListener("appinstalled",b)}},[]);const u=async()=>{if(!p){const i=/iPad|iPhone|iPod/.test(navigator.userAgent),h=/Android/.test(navigator.userAgent);alert(i?`To install on iOS:

1. Tap the Share button (square with arrow)
2. Scroll down and tap "Add to Home Screen"
3. Tap "Add"`:h?`To install on Android:

1. Tap the Menu (⋮) in your browser
2. Tap "Add to Home screen" or "Install app"
3. Tap "Add" or "Install"`:`To install this app:

Look for the install button in your browser's address bar,
or use your browser's menu to find "Install" or "Add to Home Screen"`);return}try{await p.prompt();const{outcome:i}=await p.userChoice;i==="accepted"&&(c(null),g(!0))}catch(i){console.error("Error showing install prompt:",i);const h=/iPad|iPhone|iPod/.test(navigator.userAgent),b=/Android/.test(navigator.userAgent);h?alert(`To install on iOS:

1. Tap the Share button (square with arrow)
2. Scroll down and tap "Add to Home Screen"
3. Tap "Add"`):b&&alert(`To install on Android:

1. Tap the Menu (⋮) in your browser
2. Tap "Add to Home screen" or "Install app"
3. Tap "Add" or "Install"`)}},d=()=>{w(!0)};return m?o.jsx(R,{className:"min-h-screen w-full"}):o.jsx("main",{className:"flex items-center justify-center min-h-screen bg-black",children:o.jsxs("div",{className:"text-center px-6 max-w-md",children:[o.jsx("h1",{className:"text-5xl font-bold text-white mb-3",children:"Player Turn"}),o.jsx("p",{className:"text-lg text-gray-300 mb-8",children:"Have each player touch the screen. After a few moments, one finger will be chosen at random."}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("button",{onClick:d,className:"px-8 py-4 bg-white text-black font-semibold text-lg rounded-lg hover:bg-gray-200 transition-colors shadow-lg active:scale-95",children:"Start Game"}),!v&&o.jsx("button",{onClick:u,className:"px-8 py-4 bg-transparent border-2 border-white text-white font-semibold text-lg rounded-lg hover:bg-white hover:text-black transition-colors shadow-lg active:scale-95",children:"Add to Home Screen"})]})]})})}function B({}){return[{title:"Robert Rice"},{name:"description",content:""}]}const z=C(function(){return o.jsx(H,{})});export{z as default,B as meta};
